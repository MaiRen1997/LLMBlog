(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{349:function(a,t,s){"use strict";s.r(t);var n=s(7),r=Object(n.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"安装langchain-ollama插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装langchain-ollama插件"}},[a._v("#")]),a._v(" 安装langchain-ollama插件")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("使用uv进行项目级的安装")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("uv "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" langchain-ollama\n")])])])])]),a._v(" "),t("h2",{attrs:{id:"使用插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用插件"}},[a._v("#")]),a._v(" 使用插件")]),a._v(" "),t("h3",{attrs:{id:"具体可以参照文档"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#具体可以参照文档"}},[a._v("#")]),a._v(" "),t("a",{attrs:{href:"https://docs.langchain.com/oss/python/integrations/providers/ollama",target:"_blank",rel:"noopener noreferrer"}},[a._v("具体可以参照文档"),t("OutboundLink")],1)]),a._v(" "),t("h3",{attrs:{id:"使用对话模型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用对话模型"}},[a._v("#")]),a._v(" 使用对话模型")]),a._v(" "),t("ol",[t("li",[a._v("model的值，是本地安装的大模型的名字")])]),a._v(" "),t("div",{staticClass:"language-python extra-class"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("from")]),a._v(" langchain_ollama "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" ChatOllama\n\nllm "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" ChatOllama"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("\n    model"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"llama3.1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    temperature"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# other params...")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\nresp "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" llm"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("invoke"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"你是谁？"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("resp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("h2",{attrs:{id:"使用流式调用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用流式调用"}},[a._v("#")]),a._v(" 使用流式调用")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("将上面的"),t("code",[a._v("invoke")]),a._v(" 替换成 "),t("code",[a._v("stream")])]),a._v(" "),t("div",{staticClass:"language-python extra-class"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[a._v("resp "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" llm"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("stream"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"你是谁？"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" chunk "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" resp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("chunk"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("content"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" end"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("ol",[t("li",[a._v("resp 是一个数组，它会不断接收新的内容")]),a._v(" "),t("li",[a._v("由于print每打印一个，会有一个换行，使用end 参数，将默认的\\n换成空字符串即可")])])])])])}),[],!1,null,null,null);t.default=r.exports}}]);