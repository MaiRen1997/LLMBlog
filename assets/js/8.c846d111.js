(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{314:function(t,s,a){t.exports=a.p+"assets/img/extendRelation.936b26ba.png"},343:function(t,s,a){"use strict";a.r(s);var n=a(7),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"langchain的核心功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#langchain的核心功能"}},[t._v("#")]),t._v(" LangChain的核心功能")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("模型（Models）")]),t._v("：提供统一接口调用各种LLM，如OpenAI的GPT系列、Anthropic的Claude系列、Google的Gemini系列，以及Hugging Face的开源模型。")]),t._v(" "),s("li",[s("strong",[t._v("提示（Prompts）")]),t._v("：优化模型输入，提升生成结果的质量，包括PromptTemplate、ChatPromptTemplate和FewShotPromptTemplate等。")]),t._v(" "),s("li",[s("strong",[t._v("链（Chains）")]),t._v("：封装多个组件的调用序列，创建复杂的工作流程，如SimpleSequentialChain等。")]),t._v(" "),s("li",[s("strong",[t._v("代理（Agents）")]),t._v("：允许模型自主调用外部工具和组件，实现多步骤任务处理，如AutoGPT和BabyAGI。")]),t._v(" "),s("li",[s("strong",[t._v("记忆（Memory）")]),t._v("：存储和检索对话数据，支持上下文感知的应用，如多轮对话系统。")]),t._v(" "),s("li",[s("strong",[t._v("索引（Indexes）")]),t._v("：组织和检索文档数据，支持RAG（检索增强生成）等应用场景。")])]),t._v(" "),s("h2",{attrs:{id:"实例化大模型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实例化大模型"}},[t._v("#")]),t._v(" 实例化大模型")]),t._v(" "),s("h3",{attrs:{id:"实例化大模型-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实例化大模型-2"}},[t._v("#")]),t._v(" 实例化大模型")]),t._v(" "),s("h4",{attrs:{id:"基本使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本使用"}},[t._v("#")]),t._v(" 基本使用")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" langchain_openai "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ChatOpenAI\nllm "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ChatOpenAI"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    model"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"qwen-max-latest"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    base_url"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://dashscope.aliyuncs.com/compatible-mode/v1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    api_key"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    streaming"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nresp "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" llm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("invoke"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"100 + 100 = ?"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("resp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("注意 api_key 会提示：Expected type 'SecretStr | None', got 'str' instead 错误")]),t._v(" "),s("h4",{attrs:{id:"流式输出"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#流式输出"}},[t._v("#")]),t._v(" 流式输出")]),t._v(" "),s("p",[t._v("只需要将invoke换成stream")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("resp "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" llm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"100 + 100 = ?"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" item "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" resp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" end"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"使用secretstr类型对api-key进行加密"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用secretstr类型对api-key进行加密"}},[t._v("#")]),t._v(" 使用SecretStr类型对api_key进行加密")]),t._v(" "),s("p",[t._v("安装 pydantic：")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("uv "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" pydantic\n")])])]),s("p",[s("strong",[t._v("Pydantic")]),t._v(" 是一个基于 Python 类型注解（type hints）的"),s("strong",[t._v("数据验证与解析库")]),t._v("，广泛用于数据模型定义、数据验证、序列化和反序列化。它通过定义类（继承自 "),s("code",[t._v("BaseModel")]),t._v("）和类型注解，自动验证输入数据的结构和类型，确保数据符合预期格式，并提供清晰的错误信息。官网：https://docs.pydantic.dev/")]),t._v(" "),s("p",[t._v("可以使用 SecretStr 进行优化：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" pydantic "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" SecretStr\n\napi_key"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("SecretStr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),s("h2",{attrs:{id:"初始化提示词模板"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#初始化提示词模板"}},[t._v("#")]),t._v(" 初始化提示词模板")]),t._v(" "),s("h3",{attrs:{id:"prompttemplate-字符串提示模板"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prompttemplate-字符串提示模板"}},[t._v("#")]),t._v(" PromptTemplate(字符串提示模板)")]),t._v(" "),s("h4",{attrs:{id:"步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤"}},[t._v("#")]),t._v(" 步骤")]),t._v(" "),s("ol",[s("li",[t._v("先使用"),s("code",[t._v("PromptTemplate.from_template")]),t._v("创建提示词模板")]),t._v(" "),s("li",[t._v("再使用"),s("code",[t._v("模板.format")]),t._v("进行代码补充完整，参数要和模板对齐")]),t._v(" "),s("li",[t._v("再将整理好的模板传给大模型")])]),t._v(" "),s("h4",{attrs:{id:"适用场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#适用场景"}},[t._v("#")]),t._v(" "),s("strong",[t._v("适用场景")]),t._v("：")]),t._v(" "),s("ul",[s("li",[t._v("用于"),s("strong",[t._v("文本补全模型")]),t._v("，输入是纯文本（单字符串）。")]),t._v(" "),s("li",[t._v("适用于简单的任务，例如生成一段文本、回答问题或执行指令。")])]),t._v(" "),s("h4",{attrs:{id:"特点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[t._v("#")]),t._v(" "),s("strong",[t._v("特点")]),t._v("：")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("输入变量插值")]),t._v("：通过 "),s("code",[t._v("{}")]),t._v(" 占位符动态替换变量。")]),t._v(" "),s("li",[s("strong",[t._v("模板格式")]),t._v("：支持 "),s("code",[t._v("f-string")]),t._v("。")]),t._v(" "),s("li",[s("strong",[t._v("输出形式")]),t._v("：生成一个完整的字符串作为模型输入。")])]),t._v(" "),s("h4",{attrs:{id:"示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("template_prompt "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" PromptTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"今天{something}真不错"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("template_prompt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# input_variables=['something'] input_types={} partial_variables={} template='今天{something}真不错'")]),t._v("\n\nformatted_prompt "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" template_prompt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("something"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"天气"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("formatted_prompt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 今天天气真不错")]),t._v("\n")])])]),s("h3",{attrs:{id:"chatprompttemplate-聊天提示模板"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#chatprompttemplate-聊天提示模板"}},[t._v("#")]),t._v(" ChatPromptTemplate(聊天提示模板)")]),t._v(" "),s("h4",{attrs:{id:"使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),s("ol",[s("li",[t._v("使用"),s("code",[t._v("ChatPromptTemplate.from_messages")]),t._v("创建模板，"),s("code",[t._v("参数是一个数组")]),t._v("，数组内是"),s("code",[t._v("元组")])]),t._v(" "),s("li",[t._v("使用"),s("code",[t._v("模板.format_messages")]),t._v(" 补充好模板，参数要和上面模板的形参保持一致")])]),t._v(" "),s("h4",{attrs:{id:"适用场景-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#适用场景-2"}},[t._v("#")]),t._v(" "),s("strong",[t._v("适用场景")]),t._v("：")]),t._v(" "),s("ul",[s("li",[t._v("用于"),s("strong",[t._v("聊天模型")]),t._v("（如 ChatGPT / 通义千问等），输入是多轮对话的消息列表（"),s("code",[t._v("SystemMessage")]),t._v("、"),s("code",[t._v("HumanMessage")]),t._v("、"),s("code",[t._v("AIMessage")]),t._v(" 等）。")]),t._v(" "),s("li",[t._v("适用于需要模拟多轮对话或角色扮演的场景。")])]),t._v(" "),s("h4",{attrs:{id:"特点-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#特点-2"}},[t._v("#")]),t._v(" "),s("strong",[t._v("特点")]),t._v("：")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("多消息类型支持")]),t._v("：可以组合系统指令、用户输入和助手回复。")]),t._v(" "),s("li",[s("strong",[t._v("消息格式化")]),t._v("：生成结构化的消息列表，供聊天模型处理。")]),t._v(" "),s("li",[s("strong",[t._v("灵活性")]),t._v("：支持动态替换变量（如 "),s("code",[t._v("SystemMessage")]),t._v(" 中的占位符）。")])]),t._v(" "),s("h4",{attrs:{id:"示例-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例-2"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" langchain_openai "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ChatOpenAI\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" langchain_core"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prompts "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ChatPromptTemplate\nllm "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ChatOpenAI"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    model"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"qwen-max-latest"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    base_url"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://dashscope.aliyuncs.com/compatible-mode/v1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    api_key"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    streaming"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsystem_message "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"你是一位{role}专家，擅长回答{domain}领域的问题。"')]),t._v("\nhuman_message "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{question}"')]),t._v("\n\nchat_prompt "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ChatPromptTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_messages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"system"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" system_message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"human"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" human_message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 格式化消息")]),t._v("\nformatted_messages "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" chat_prompt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("format_messages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    role"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"技术"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    domain"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Web开发"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    question"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"如何构建一个基于Vue的前端应用？"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nresp "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" llm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("formatted_messages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" item "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" resp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" end"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n[\n  SystemMessage(content=\'你是一位技术专家，擅长回答Web开发领域的问题。\', additional_kwargs={}, response_metadata={}),\n  HumanMessage(content=\'如何构建一个基于Vue的前端应用？\', additional_kwargs={}, response_metadata={})\n]\n"""')]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("python基础知识扩充：")]),t._v(" "),s("p",[t._v("这里的 "),s("code",[t._v('("system", system_message)')]),t._v("是 python 的 tuple 类型")]),t._v(" "),s("p",[s("strong",[t._v("Tuple（元组）")]),t._v("：")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("有序")]),t._v("：元素按顺序排列，支持索引和切片操作。")]),t._v(" "),s("li",[s("strong",[t._v("不可变")]),t._v("："),s("strong",[t._v("创建后无法修改（不能增删改元素）")]),t._v("。")]),t._v(" "),s("li",[s("strong",[t._v("定义方式")]),t._v("：使用圆括号 "),s("code",[t._v("()")]),t._v(" 或直接逗号分隔元素。")])]),t._v(" "),s("p",[s("strong",[t._v("Array（数组）")]),t._v("：相当于 JS 中的 Array")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("可变")]),t._v("：可以动态添加、删除或修改元素。")]),t._v(" "),s("li",[s("strong",[t._v("有序")]),t._v("：元素按顺序排列，支持索引和切片。")])]),t._v(" "),s("p",[s("strong",[t._v("Dict（字典）")]),t._v("：相当于 JS 中的 Object")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("无序")]),t._v("：元素（键值对）没有固定顺序。")]),t._v(" "),s("li",[s("strong",[t._v("可变")]),t._v("：可以动态添加、删除或修改键值对。")]),t._v(" "),s("li",[s("strong",[t._v("定义方式")]),t._v("：使用花括号 "),s("code",[t._v("{}")]),t._v("，键值对用冒号 "),s("code",[t._v(":")]),t._v(" 分隔。")])])]),t._v(" "),s("h3",{attrs:{id:"chatmessageprompttemplate与chatprompttemplate结合"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#chatmessageprompttemplate与chatprompttemplate结合"}},[t._v("#")]),t._v(" ChatMessagePromptTemplate与ChatPromptTemplate结合")]),t._v(" "),s("h4",{attrs:{id:"步骤-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤-2"}},[t._v("#")]),t._v(" 步骤")]),t._v(" "),s("ol",[s("li",[t._v("使用"),s("code",[t._v("ChatMessagePromptTemplate.from_template")]),t._v("构建模板")]),t._v(" "),s("li",[t._v("使用"),s("code",[t._v("ChatPromptTemplate.from_messages")]),t._v("组合成消息提示词模板")]),t._v(" "),s("li",[t._v("使用"),s("code",[t._v("消息提示词模板.format_messages")]),t._v("填充实现提示词模板")]),t._v(" "),s("li",[t._v("将填充好的提示词模板，传递给大模型")])]),t._v(" "),s("p",[t._v("知识扩充："),s("code",[t._v("ChatMessagePromptTemplate")]),t._v("可以结合 "),s("code",[t._v("ChatPromptTemplate")]),t._v("使用，同时对提示词模板和消息体进行抽象和复用：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("system_template "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ChatMessagePromptTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"你是一位{role}专家，擅长回答{domain}领域的问题。"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    role"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"system"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nhuman_template "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ChatMessagePromptTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"用户问题：{question}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    role"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nchat_prompt "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ChatPromptTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_messages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    system_template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    human_template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nmessages "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" chat_prompt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("format_messages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    role"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"技术"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    domain"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Web开发"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    question"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"如何构建一个基于Vue的前端应用？"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("messages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("\"\"\"\n[\n  ChatMessage(content='你是一位技术专家，擅长回答Web开发领域的问题。', additional_kwargs={}, response_metadata={}, role='system'),\n  ChatMessage(content='用户问题：如何构建一个基于Vue的前端应用？', additional_kwargs={}, response_metadata={}, role='human')\n]\n\"\"\"")]),t._v("\n")])])]),s("h3",{attrs:{id:"fewshotprompttemplate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fewshotprompttemplate"}},[t._v("#")]),t._v(" FewShotPromptTemplate")]),t._v(" "),s("h4",{attrs:{id:"适用场景-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#适用场景-3"}},[t._v("#")]),t._v(" "),s("strong",[t._v("适用场景")]),t._v("：")]),t._v(" "),s("ul",[s("li",[t._v("用于"),s("strong",[t._v("少样本学习")]),t._v("（Few-Shot Learning），在提示中包含示例（Examples），帮助模型理解任务。")]),t._v(" "),s("li",[t._v("适用于复杂任务（如翻译、分类、推理），需要通过示例引导模型行为。")])]),t._v(" "),s("h4",{attrs:{id:"特点-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#特点-3"}},[t._v("#")]),t._v(" "),s("strong",[t._v("特点")]),t._v("：")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("示例嵌入")]),t._v("：通过 "),s("code",[t._v("examples")]),t._v(" 参数提供示例输入和输出。")]),t._v(" "),s("li",[s("strong",[t._v("动态示例选择")]),t._v("：支持 "),s("code",[t._v("ExampleSelector")]),t._v(" 动态选择最相关的示例。")]),t._v(" "),s("li",[s("strong",[t._v("模板格式")]),t._v("：通常包含前缀（Prefix）、示例（Examples）和后缀（Suffix）。")])]),t._v(" "),s("h4",{attrs:{id:"步骤-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤-3"}},[t._v("#")]),t._v(" 步骤")]),t._v(" "),s("ol",[s("li",[t._v("定义"),s("code",[t._v("示例模板")]),t._v("，比如输入xx，输出xx")]),t._v(" "),s("li",[t._v("根据上面的示例模板，"),s("code",[t._v("定义数组类型的示例，形参要和模板对应上")])]),t._v(" "),s("li",[t._v("设置前置文本")]),t._v(" "),s("li",[t._v("设置后置文本，也就是整段提示词最后的后缀\n由于前面的都通过example_template和examples，整理好了格式\n对于为了避免用户需要每次按照这个格式输出，可以设置后缀，让用户只需要输入关键信息，由suffix整理成和上面一样的格式")]),t._v(" "),s("li",[t._v("指定输入的变量名称："),s("code",[t._v('input_variables=["变量名"]')]),t._v("，指定用户传入的数据，被赋值到哪个参数上了")]),t._v(" "),s("li",[t._v("将"),s("code",[t._v("少量模板，进行填充，然后传给大模型")])])]),t._v(" "),s("h4",{attrs:{id:"示例-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例-3"}},[t._v("#")]),t._v(" "),s("strong",[t._v("示例")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 定义示例模板")]),t._v("\nexample_template "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"输入: {input}\\n输出: {output}"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建示例")]),t._v("\nexamples "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"input"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"将'Hello'翻译成中文\"")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"output"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"你好"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"input"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"将'Goodbye'翻译成中文\"")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"output"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"再见"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建少样本模板")]),t._v("\nfew_shot_prompt "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" FewShotPromptTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    examples"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("examples"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    example_prompt"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("PromptTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("example_template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    prefix"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请将以下英文翻译成中文："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    suffix"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"输入: {text}\\n输出:"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    input_variables"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 格式化提示")]),t._v("\nformatted_prompt "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" few_shot_prompt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Thank you"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("formatted_prompt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n请将以下英文翻译成中文：\n\n输入: 将\'Hello\'翻译成中文\n输出: 你好\n\n输入: 将\'Goodbye\'翻译成中文\n输出: 再见\n\n输入: Thank you\n输出:\n"""')]),t._v("\n")])])]),s("h3",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),s("h4",{attrs:{id:"常用模板类特性和使用场景对比"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用模板类特性和使用场景对比"}},[t._v("#")]),t._v(" 常用模板类特性和使用场景对比")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[s("strong",[t._v("子类")])]),t._v(" "),s("th",[s("strong",[t._v("适用模型类型")])]),t._v(" "),s("th",[s("strong",[t._v("输入类型")])]),t._v(" "),s("th",[s("strong",[t._v("主要用途")])])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("PromptTemplate")])]),t._v(" "),s("td",[t._v("文本补全模型")]),t._v(" "),s("td",[t._v("单字符串")]),t._v(" "),s("td",[t._v("生成单轮文本任务的提示")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("ChatPromptTemplate")])]),t._v(" "),s("td",[t._v("聊天模型")]),t._v(" "),s("td",[t._v("多消息列表")]),t._v(" "),s("td",[t._v("模拟多轮对话或角色扮演")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("FewShotPromptTemplate")])]),t._v(" "),s("td",[t._v("所有模型")]),t._v(" "),s("td",[t._v("包含示例的模板")]),t._v(" "),s("td",[t._v("通过示例引导模型完成复杂任务")])])])]),t._v(" "),s("h4",{attrs:{id:"常用提示词模板类的继承关系"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用提示词模板类的继承关系"}},[t._v("#")]),t._v(" 常用提示词模板类的继承关系")]),t._v(" "),s("p",[s("img",{attrs:{src:a(314),alt:""}})]),t._v(" "),s("h2",{attrs:{id:"链式调用大模型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#链式调用大模型"}},[t._v("#")]),t._v(" 链式调用大模型")]),t._v(" "),s("ol",[s("li",[t._v("先不进行few_shot_prompt.format填充完整模板，而是先把"),s("code",[t._v("提示词模板prompt")]),t._v("和"),s("code",[t._v("大模型llm")]),t._v(" 组装在一起")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v(" 定义示例模板\nexample_template "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"输入: {input}\\n输出: {output}"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建示例")]),t._v("\nexamples "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"input"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"将'Hello'翻译成中文\"")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"output"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"你好"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"input"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"将'Goodbye'翻译成中文\"")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"output"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"再见"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建少样本模板")]),t._v("\nfew_shot_prompt "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" FewShotPromptTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    examples"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("examples"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    example_prompt"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("PromptTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from_template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("example_template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    prefix"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请将以下英文翻译成中文："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    suffix"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"输入: {text}\\n输出:"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    input_variables"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 格式化提示")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('## formatted_prompt = few_shot_prompt.format(text="Thank you")')]),t._v("\n\n\nchain "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" few_shot_prompt "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" llm\n\nresponse "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" chain"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Thank you"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# response = chain.stream(input={"user_input": "计算100+100"})')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" chunk "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("chunk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" end"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);