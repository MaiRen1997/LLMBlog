---
title: 提示词迭代优化
date: 2026-02-04 16:00:04
permalink: /pages/f933d2/
categories:
  - 提示词工程
  - 提示词工程
tags:
  - 
---
## 核心理念：提示词开发是一个循环过程

核心思想：LLM 开发与传统的代码开发类似，是一个**迭代（Iterative）**的过程。你不需要在第一步就写出完美的 Prompt，关键在于拥有一套改进它的流程。

1. 迭代循环路径

   - Idea：有一个特定的任务和想法。


   - Implementation：尝试编写第一个 Prompt（遵循清晰、具体的原则）。


   - Result：运行模型，观察输出结果。


   - Analysis：分析结果与预期的差距，找出原因。


   - Refine：根据分析改进 Prompt，回到第一步循环。


## 迭代优化的四个具体步骤（以“生成产品说明”为例）

### 第一轮：初始尝试（过于笼统）

- 做法：直接让模型根据一张事实表写一份产品说明。
- 问题：输出太长，包含了太多不必要的细节。

- 改进策略：限制长度。在提示词中加入“最多使用 50 个词”或“限制在 3 个句子以内”。

### 第二轮：优化细节与侧重点

- 问题：虽然字数控住了，但模型没有重点关注目标受众（如：家具零售商）。

- 改进策略：明确受众。要求模型针对特定人群进行描述（例如：“该说明面向家具零售商，重点介绍其材质和工艺”）。


### 第三轮：提取特定信息（结构化输出）

- 问题：描述中漏掉了产品 ID 等关键信息。

- 改进策略：指定任务。要求模型在说明的末尾提取并列出产品 ID（Product ID）。


### 第四轮：添加格式化输出（表格/HTML）

- 问题：纯文本阅读体验差。

- 改进策略：要求格式化。指示模型将尺寸等技术规格整理成一个 HTML 表格，方便直接插入网页。


## 开发者视角：不同阶段的评估策略

当你从写一个简单的 Prompt 变成开发一个复杂的 Agent 时，评估方式会发生变化。

### 开发初期（少量样本评估）

- 适用场景：刚开始写 Agent，处理 1-5 个测试用例。


- 做法：通过肉眼观察，看模型是否理解了指令，并据此快速迭代 Prompt。


### 成熟阶段（大规模评估）

- 适用场景：Agent 即将上线，需要确保在 50-100 个样本上都表现稳定。


- 做法：构建测试集，使用自动化脚本评估模型在不同用例下的通过率（避开因优化一个用例而搞坏另一个用例的情况）。